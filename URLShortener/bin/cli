#!/usr/bin/env ruby
require 'launchy'

puts "What is your email?"
email = gets.chomp

user = User.find_by(email: email)

puts "Would you like visit or create a URL"
puts "Answer with 'create' or 'visit'"
answer = gets.chomp

if answer == "create"
  puts "What URL would you like to shorten?"
  url = gets.chomp
  ShortenedUrl.create_with_user(user, url)
  shortened_url = ShortenedUrl.last
  puts "Your URL has been created!"
  Visit.record_visit!(user, shortened_url)
  Launchy.open url
elsif answer == "visit"
  puts "Not yet implemented."
else
  puts "Invalid input."
end